<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–î–ª—è –°–æ–Ω—è—á–∫–∏ üíó</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

        body {
            margin: 0; padding: 0;
            background: #ffe6f0;
            overflow: hidden;
            font-family: 'Press Start 2P', cursive;
            touch-action: manipulation;
        }

        /* –ü–∞–¥–∞—é—â–∏–µ —Å–µ—Ä–¥–µ—á–∫–∏ */
        .heart-particle {
            position: fixed;
            top: -50px;
            font-size: 20px;
            z-index: 0;
            user-select: none;
            pointer-events: none;
            animation: fall linear forwards;
        }

        @keyframes fall {
            to { transform: translateY(110vh) rotate(360deg); }
        }

        /* –ö–Ω–æ–ø–∫–∞ –°–µ–∫—Ä–µ—Ç */
        #secret-btn {
            position: absolute;
            top: 20px; right: 20px;
            padding: 10px;
            background: #ffb3d1;
            border: 3px solid #ff4d6d;
            font-size: 8px;
            color: #330000;
            cursor: pointer;
            z-index: 1000;
        }

        /* –ö–æ—Ç–∏–∫–∏ */
        .cat {
            position: absolute;
            width: 80px;
            cursor: pointer;
            z-index: 10;
            transition: transform 0.2s;
        }

        /* –û–≤–µ—Ä–ª–µ–π –¥–ª—è —Ñ–æ–∫—É—Å–∞ */
        #overlay {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(255, 230, 240, 0.9);
            display: none;
            flex-direction: column;
            justify-content: center; align-items: center;
            z-index: 2000;
            padding: 20px; box-sizing: border-box;
        }

        .note {
            background: white;
            padding: 20px;
            border: 4px solid #ff4d6d;
            max-width: 90%;
            font-size: 10px;
            line-height: 1.6;
            color: #330000;
            text-align: center;
            margin-top: 20px;
            box-shadow: 10px 10px 0px rgba(255, 77, 109, 0.2);
        }

        /* –°–µ–∫—Ä–µ—Ç–Ω–æ–µ –æ–∫–Ω–æ */
        #secret-box {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: #ffe6f0;
            display: none;
            flex-direction: column;
            justify-content: center; align-items: center;
            z-index: 3000;
            overflow-y: auto;
            padding: 20px; box-sizing: border-box;
        }

        #secret-box input {
            padding: 10px;
            font-family: 'Press Start 2P';
            border: 3px solid #ff4d6d;
            text-align: center;
            margin-bottom: 15px;
            outline: none;
        }

        .poem-text {
            font-size: 9px;
            line-height: 2;
            text-align: center;
            color: #330000;
            white-space: pre-wrap;
        }

        #final-msg {
            position: fixed;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border: 4px solid #ff4d6d;
            padding: 20px;
            text-align: center;
            display: none;
            z-index: 4000;
            font-size: 10px;
        }
    </style>
</head>
<body>

<div id="secret-btn">–°–ï–ö–†–ï–¢</div>

<div id="overlay">
    <img id="focused-cat" style="width: 200px;">
    <div class="note" id="note-text"></div>
    <p style="font-size: 8px; margin-top: 15px;">(–Ω–∞–∂–º–∏, —á—Ç–æ–±—ã –∑–∞–∫—Ä—ã—Ç—å)</p>
</div>

<div id="secret-box">
    <div id="code-area">
        <p style="font-size: 10px;">–í–í–ï–î–ò –ö–û–î:</p>
        <input type="text" id="code-input" maxlength="6">
    </div>
    <div id="poem-area" style="display:none;">
        <div class="poem-text" id="poem-content"></div>
        <button onclick="location.reload()" style="margin-top:20px; padding:10px; font-family:'Press Start 2P'; font-size:8px;">–ù–ê–ó–ê–î</button>
    </div>
</div>

<div id="final-msg">
    –ö–û–ù–ï–¶! –¢–´ –ü–û–ô–ú–ê–õ–ê –í–°–ï–• –ö–û–¢–Ø–¢.<br><br>
    –ù–ê–î–ï–Æ–°–¨ –¢–ï–ë–ï –ü–û–ù–†–ê–í–ò–õ–û–°–¨, –Ø –°–¢–ê–†–ê–õ–°–Ø
</div>

<script>
    const phrases = [
        "—Ç—ã - –ø—Ä–∏—á–∏–Ω–∞ –º–æ–µ–π —Å–∞–º–æ–π –∏—Å–∫—Ä–µ–Ω–Ω–µ–π —É–ª—ã–±–∫–∏",
        "—Ç—ã –¥–µ–ª–∞–µ—à—å –º–æ—é –∂–∏–∑–Ω—å —è—Ä—á–µ, —á–µ–º —á—Ç–æ –ª–∏–±–æ –µ—â–µ",
        "—Ç–≤–æ–π –≥–æ–ª–æ—Å - –º–æ—è –ª—é–±–∏–º–∞—è –º—É–∑—ã–∫–∞",
        "—Å–ª—É—à–∞–ª –±—ã —Ç–µ–±—è –≤–µ—á–Ω–æ",
        "—Å–∫—É—á–∞—é –ø–æ —Ç–µ–±–µ –¥–∞–∂–µ –∫–æ–≥–¥–∞ —Å–ø–ª—é",
        "–≤ –º–∏—Ä–µ 16 –º–∏–ª–ª–∏–∞—Ä–¥–æ–≤ –≥–ª–∞–∑, –Ω–æ —Ç–≤–æ–∏ —Å–∞–º—ã–µ –∫—Ä–∞—Å–∏–≤—ã–µ",
        "—Ä–∞–∑–≥–æ–≤–æ—Ä—ã —Å —Ç–æ–±–æ–π - –ª—É—á—à–∞—è —Ç–µ—Ä–∞–ø–∏—è",
        "–≤—Å–µ–≥–¥–∞ –±–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω –≤ —Ä—É–∫–∏ —Ç–æ–ª—å–∫–æ —Å –Ω–∞–¥–µ–∂–¥–æ–π —É–≤–∏–¥–µ—Ç—å —Ç–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",
        "–Ω–µ –∑–Ω–∞—é —á—Ç–æ —Ç–∞–º —á—É–≤—Å—Ç–≤–æ–≤–∞–ª –∫–æ–ª—É–º–± –∫–æ–≥–¥–∞ –æ—Ç–∫—Ä—ã–ª –∞–º–µ—Ä–∏–∫—É, –Ω–æ —ç—Ç–æ —Ç–æ—á–Ω–æ –Ω–µ —Å—Ä–∞–≤–Ω–∏—Ç—Å—è —Å —Ç–µ–º —á—Ç–æ —è –∏—Å–ø—ã—Ç—ã–≤–∞—é –∫–æ–≥–¥–∞ —Å–ª—É—à–∞—é —Ç–≤–æ–π –≥–æ–ª–æ—Å",
        "–Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–æ—Å—á–∏—Ç–∞—Ç—å —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ —è —É–ª—ã–±–∞—é—Å—å –∑–∞ –º–∏–Ω—É—Ç—É –æ–±—â–µ–Ω–∏—è —Å —Ç–æ–±–æ–π",
        "—Å —Ç–æ–±–æ–π —è —á—É–≤—Å—Ç–≤—É—é —Å–µ–±—è —Å–∞–º–∏–º —Å–æ–±–æ–π",
        "—Å–¥–µ–ª–∞–π –º–µ–Ω—è —Å–∞–º—ã–º —Å—á–∞—Å—Ç–ª–∏–≤—ã–º",
        "–∫–æ–¥: 050909",
        "—Ç—ã –∫–∞–∫ —Ü–≤–µ—Ç–æ—á–µ–∫ –≤ —Å—Ç–µ–∫–ª–µ, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—á–µ—Ç—Å—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å –∏ –±–µ—Ä–µ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å."
    ];

    const catImgs = [
        'https://i.pinimg.com/originals/9e/7b/0a/9e7b0a33f38096230f89551c91d4911d.png',
        'https://pngimg.com/d/cat_PNG103.png',
        'https://static.vecteezy.com/system/resources/thumbnails/024/244/004/small_2x/cute-cat-ai-generated-free-png.png',
        'https://www.pngarts.com/files/1/Cat-PNG-Transparent-Image.png'
    ];

    let caughtCount = 0;
    const totalCats = 14;

    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ä–¥–µ—á–µ–∫
    function spawnHeart() {
        const h = document.createElement('div');
        h.className = 'heart-particle';
        h.innerText = ['üíñ','üíó','üíì','üíï'][Math.floor(Math.random()*4)];
        h.style.left = Math.random() * 100 + 'vw';
        h.style.animationDuration = (Math.random() * 3 + 2) + 's';
        document.body.appendChild(h);
        setTimeout(() => h.remove(), 5000);
    }
    setInterval(spawnHeart, 300);

    // –ü–µ—á–∞—Ç—å —Ç–µ–∫—Å—Ç–∞
    function typeEffect(element, text) {
        element.innerHTML = "";
        let i = 0;
        const timer = setInterval(() => {
            element.innerHTML += text[i];
            i++;
            if(i >= text.length) clearInterval(timer);
        }, 50px);
    }

    // –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ç–æ–≤
    function createCat(index) {
        const cat = document.createElement('img');
        cat.src = catImgs[index % catImgs.length];
        cat.className = 'cat';
        
        let x = Math.random() * (window.innerWidth - 80);
        let y = Math.random() * (window.innerHeight - 80);
        let dx = (Math.random() - 0.5) * 3;
        let dy = (Math.random() - 0.5) * 3;

        function move() {
            if (document.getElementById('overlay').style.display !== 'flex' && 
                document.getElementById('secret-box').style.display !== 'flex') {
                x += dx; y += dy;
                if (x <= 0 || x >= window.innerWidth - 80) dx *= -1;
                if (y <= 0 || y >= window.innerHeight - 80) dy *= -1;
                cat.style.left = x + 'px';
                cat.style.top = y + 'px';
                cat.style.transform = dx > 0 ? 'scaleX(1)' : 'scaleX(-1)';
            }
            requestAnimationFrame(move);
        }

        cat.onclick = () => {
            if(cat.style.opacity === "0.3") return;
            
            const overlay = document.getElementById('overlay');
            const noteText = document.getElementById('note-text');
            document.getElementById('focused-cat').src = cat.src;
            
            overlay.style.display = 'flex';
            typeEffect(noteText, phrases[index]);
            
            cat.style.opacity = "0.3";
            caughtCount++;
            
            if(caughtCount === totalCats) {
                setTimeout(showWin, 1000);
            }
        };

        document.body.appendChild(cat);
        move();
    }

    for(let i=0; i<totalCats; i++) createCat(i);

    document.getElementById('overlay').onclick = function() { this.style.display = 'none'; };

    // –°–µ–∫—Ä–µ—Ç
    const secretBtn = document.getElementById('secret-btn');
    const secretBox = document.getElementById('secret-box');
    const codeInput = document.getElementById('code-input');

    secretBtn.onclick = () => { secretBox.style.display = 'flex'; };

    codeInput.oninput = () => {
        if(codeInput.value === '050909') {
            document.getElementById('code-area').style.display = 'none';
            document.getElementById('poem-area').style.display = 'block';
            const poem = `–¢—ã –≥—Ä–µ–µ—à—å –º–æ–µ —Å–µ—Ä–¥—Ü–µ, –±—É–¥—Ç–æ –ø—Ä–∏—à–ª–∞ –≤–µ—Å–Ω–∞,
—è –Ω–µ –≤–µ—Ä—é –≤ —Å–≤–æ–µ —Å—á–∞—Å—Ç—å–µ, –≤–µ–¥—å —Å—á–∞—Å—Ç—å–µ - –¢—ã –æ–¥–Ω–∞.
–¢—ã –±—ã–≤–∞–µ—à—å –≤ –º–æ–∏—Ö –º—ã—Å–ª—è—Ö, –¥–∞–∂–µ –∫–æ–≥–¥–∞ —Å–ø–∏—à—å,
–∏ –µ—Å–ª–∏ —è –Ω–µ —Å–ø–ª—é, –¢—ã –≤ –≥–æ–ª–æ–≤–µ –º–æ–µ–π –∑–≤—É—á–∏—à—å.

–º–Ω–µ –±—ã–≤–∞–µ—Ç —á–∞—Å—Ç–æ –≥—Ä—É—Å—Ç–Ω–æ, –∏ –≤ –∫–æ–º–Ω–∞—Ç–µ —Ç–µ–º–Ω–æ,
–Ω–æ –µ—Å–ª–∏ —Ä—è–¥–æ–º –¢—ã, –Ω–∞ –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã –≤—Å–µ —Ä–∞–≤–Ω–æ.
—è —Å–Ω–æ–≤–∞ –¥–æ–ª–≥–æ –¥—É–º–∞–ª, —Å –Ω–æ—á–∏ –¥–æ —É—Ç—Ä–∞,
—á—Ç–æ –º–Ω–µ –Ω–∏–∫—Ç–æ –Ω–µ –Ω—É–∂–µ–Ω, –Ω—É–∂–Ω–∞ –ª–∏—à—å –¢—ã –æ–¥–Ω–∞.

–¢–≤–æ–π –≥–æ–ª–æ—Å –ª–µ—á–∏—Ç –¥—É—à—É, –≤ –Ω–µ–º —Å—Ç–æ–ª—å–∫–æ –¥–æ–±—Ä–æ—Ç—ã,
—è –≤ –Ω–µ–º —Ö–æ—á—É –æ—Å—Ç–∞—Ç—å—Å—è, –≤ –Ω–µ–º –Ω–µ—Ç —Ç–æ–π –ø—É—Å—Ç–æ—Ç—ã.
—Å –¢–æ–±–æ–π —è –Ω–∞—É—á–∏–ª—Å—è —Å–≤–æ–π –∫–∞–∂–¥—ã–π –º–∏–≥ —Ü–µ–Ω–∏—Ç—å.
–¢—ã - –ª—É—á—à–µ–µ, —á—Ç–æ –∂–∏–∑–Ω—å –º–æ–≥–ª–∞ –º–Ω–µ –ø–æ–¥–∞—Ä–∏—Ç—å.`;
            typeEffect(document.getElementById('poem-content'), poem);
        }
    };

    function showWin() {
        confetti({ particleCount: 200, spread: 70, origin: { y: 0.6 } });
        document.getElementById('final-msg').style.display = 'block';
    }
</script>
</body>
</html>
